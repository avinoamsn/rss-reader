(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(34),o=n.n(i),c=(n(77),n(3)),s=n(65),u=n(44),l=n.n(u),d=n(66),m=n(67),p=n.n(m),E={REQUEST_FEED:"REQUEST_FEED",RECIEVE_FEED:"RECIEVE_FEED",ERROR:"ERROR",RENDER_ITEM:"RENDER_ITEM"},f=function(e){return{type:E.REQUEST_FEED,payload:e}},h=function(e){return{type:E.RECIEVE_FEED,payload:e.items}},R=function(e){return{type:E.ERROR,payload:e.message||"Something went wrong."}},b=function(e){var t=new p.a;return function(){var n=Object(d.a)(l.a.mark(function n(r){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r(f(e)),t.parseURL("https://boiling-citadel-49650.herokuapp.com/"+e,function(e,t){r(e?R(e):h(t))});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},v=function(e){return{type:E.RENDER_ITEM,payload:e}},O=E,g={isFetching:!1,feed:[],error:!1,errorMessage:"",renderedItems:[],numRenderedItems:0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.REQUEST_FEED:return Object.assign({},e,{isFetching:!0,error:!1});case O.RECIEVE_FEED:return Object.assign({},e,{isFetching:!1,error:!1,feed:t.payload,renderedItems:[],numRenderedItems:0});case O.ERROR:return Object.assign({},e,{isFetching:!1,error:!0,errorMessage:t.payload});case O.RENDER_ITEM:return Object.assign({},e,{renderedItems:e.renderedItems.concat(e.feed[e.numRenderedItems]),numRenderedItems:e.numRenderedItems+1});default:return e}},I=n(4),j=n(68),w=n.n(j),_=n(69),D=n(45),F=n(70),k={key:"root",storage:n.n(F).a},N=Object(D.a)(k,y),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d;var T=n(7),U=n(8),C=n(10),M=n(9),A=n(11),x=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(C.a)(this,Object(M.a)(t).call(this,e))).state={url:""},n}return Object(A.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("header",null,a.a.createElement("h1",null,a.a.createElement("span",null,"a"),"reses"),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.fetchFeed(e.state.url)}},a.a.createElement("input",{type:"text",value:this.state.url,onChange:function(t){e.setState({url:t.target.value})}}),a.a.createElement("input",{type:"submit",value:"fetch feed"})))}}]),t}(r.Component),V=Object(c.b)(function(e){return{feed:e.feed}},function(e){return{fetchFeed:function(t){return e(b(t))}}})(x),L=n(71),Q=n.n(L),W=function(e){function t(){var e,n;Object(T.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(a)))).timer=void 0,n.scheduleNextUpdate=function(){n.timer=setTimeout(n.updateRenderedItems,40)},n.updateRenderedItems=function(){n.props.renderItem(n.props.feed[n.props.numRenderedItems]),n.props.feed.length>n.props.numRenderedItems&&n.scheduleNextUpdate()},n}return Object(A.a)(t,e),Object(U.a)(t,[{key:"componentDidUpdate",value:function(){0!==this.props.feed.length&&0===this.props.numRenderedItems&&this.scheduleNextUpdate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){return this.props.isFetching?null:a.a.createElement("ul",{id:"feed"},this.props.renderedItems.map(function(e,t){return e&&a.a.createElement("li",{key:t},a.a.createElement("a",{href:e.guid},a.a.createElement("h2",null,e.title),a.a.createElement("h5",null,Q()(e.isoDate).fromNow()),a.a.createElement("p",null,e.contentSnippet)))}))}}]),t}(r.Component),P=Object(c.b)(function(e){return{feed:e.feed,isFetching:e.isFetching,renderedItems:e.renderedItems,numRenderedItems:e.numRenderedItems}},function(e){return{renderItem:function(t){return e(v(t))}}})(W),X=function(e){function t(){var e,n;Object(T.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(C.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(i)))).randomAnimation=function(){return{animationDelay:Math.random()/3.2+"s"}},n.renderSpinner=function(){return n.props.isFetching?a.a.createElement("div",{id:"spinner"},a.a.createElement("div",{style:n.randomAnimation(),className:"spinner-component",id:"spin-1"}),a.a.createElement("div",{style:n.randomAnimation(),className:"spinner-component",id:"spin-2"}),a.a.createElement("br",null),a.a.createElement("div",{style:n.randomAnimation(),className:"spinner-component",id:"spin-3"}),a.a.createElement("div",{style:n.randomAnimation(),className:"spinner-component",id:"spin-4"})):null},n}return Object(A.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return this.renderSpinner()}}]),t}(r.Component),B=Object(c.b)(function(e){return{isFetching:e.isFetching}})(X),J=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(C.a)(this,Object(M.a)(t).call(this,e))).state={show:!0},n}return Object(A.a)(t,e),Object(U.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this;return this.props.error&&this.state.show?a.a.createElement("div",{className:"error"},a.a.createElement("h3",null,"ERROR:"),a.a.createElement("p",null,this.props.errorMessage),a.a.createElement("p",null,"Please try a different URL."),a.a.createElement("button",{onClick:function(){return e.setState({show:!1})}},"dismiss")):null}}]),t}(r.Component),$=Object(c.b)(function(e){return{error:e.error,errorMessage:e.errorMessage}})(J),q=(n(127),function(e){var t=Object(I.e)(N,e,S(Object(I.a)(_.a,w.a)));return{store:t,persistor:Object(D.b)(t)}}(window.REDUX_INITIAL_DATA));var z=function(){return a.a.createElement(c.a,{store:q.store},a.a.createElement(s.a,{loading:null,persistor:q.persistor},a.a.createElement("div",{id:"fb-root"}),a.a.createElement("div",{id:"app"},a.a.createElement(V,null),a.a.createElement(B,null),a.a.createElement(P,null),a.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){e.exports=n(128)},77:function(e,t,n){},89:function(e,t){},91:function(e,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.dd9947f8.chunk.js.map